<h1 class='text-center'>=== Stats for '<%= @identifier.capitalize %> -- /<%= @path %>' ===</h1>
<hr>

<section class='row'>
  <section class='col-md-6'>
    <h1>Browsers</h1>
    <table class='table table-responsive table-striped table-bordered'>
      <thead>
        <tr>
          <th>Name</th>
          <th>Requests</th>
          <th>Percentage</th>
        </tr>
      </thead>
      <tbody>
        <%= partial :'partials/column_stats', collection: @url_stats[:browser_info] %>
      </tbody>
    </table>
  </section>
  <section class='col-md-6'>
    <h1>Response Times</h1>
    <table class='table table-responsive table-striped table-bordered'>
      <tbody>
        <tr>
          <td>Longest Response Time</td>
          <td><%= @url.requests.maximum(:response_time).round(2).to_s + " ms"%></td>
        </tr>
        <tr>
          <td>Shortest Response Time</td>
          <td><%= @url.requests.minimum(:response_time).round(2).to_s + " ms"%></td>
        </tr>
        <tr>
          <td>Average Response Time</td>
          <td><%= @url.requests.average(:response_time).round(2).to_s + " ms"%></td>
        </tr>
      </tbody>
    </table>
  </section>
</section>

<section class='row'>
  <section class='col-md-6'>
    <h1>Operating Systems</h1>
    <table class='table table-responsive table-striped table-bordered'>
      <thead>
        <tr>
          <th>Name</th>
          <th>Requests</th>
          <th>Percentage</th>
        </tr>
      </thead>
      <tbody>
        <%= partial :'partials/column_stats', collection: @url_stats[:os_info] %>
      </tbody>
    </table>
  </section>
  <section class='col-md-6'>
    <h1>Referrals</h1>
    <table class='table table-responsive table-striped table-bordered'>
      <thead>
        <tr>
          <th>Address</th>
          <th>Requests</th>
          <th>Percentage</th>
        </tr>
      </thead>
      <tbody>
        <%= partial :'partials/column_stats', collection: @url_stats[:referral_info] %>
      </tbody>
    </table>
  </section>
</section>

<section class='row'>
  <section class='col-md-6'>
    <h1>Resolutions</h1>
    <table class='table table-responsive table-striped table-bordered'>
      <thead>
        <tr>
          <th>Description</th>
          <th>Requests</th>
          <th>Percentage</th>
        </tr>
      </thead>
      <tbody>
        <%= partial :'partials/column_stats', collection: @url_stats[:resolution_info] %>
      </tbody>
    </table>
  </section>
  <section class='col-md-6'>
    <h1>HTTP Verbs</h1>
    <ul>
    <% @url.types.pluck(:name).uniq.each do |type| %>
      <li><h2><%= type %></h2></li>
    <% end %>
    </ul>
  </section>
</section>
